{"version":3,"sources":["../../src/pages/mine/head-upload/head-upload.ts","../../src/pages/mine/head-upload/head-upload.module.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAA0C;AACe;AACE;AACnB;AACwC;AAEhF;;;;;GAKG;AAOH,IAAa,cAAc;IAIzB,wBAAmB,OAAsB,EAAS,SAAoB,EAClD,MAAc,EAAU,IAAU,EACnC,cAA6B;QAF7B,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAClD,WAAM,GAAN,MAAM,CAAQ;QAAU,SAAI,GAAJ,IAAI,CAAM;QACnC,mBAAc,GAAd,cAAc,CAAe;IAChD,CAAC;IACC,kCAAS,GAAT;QAAA,iBA0BC;QAzBG,IAAM,OAAO,GAAkB;YAC3B,OAAO,EAAE,EAAE;YACX,eAAe,EAAE,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,QAAQ;YACrD,YAAY,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,IAAI;YAC3C,SAAS,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,OAAO;YACxC,gBAAgB,EAAE,IAAI;YACtB,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,YAAY;SACzD;QAED,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAC,SAAS;YAC3C,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,SAAS,CAAC,CAAC;YAEtC,KAAK,CAAC,SAAS,CAAC;YAChB,kBAAkB;YAClB,2DAA2D;YAC3D,2BAA2B;YAC3B,KAAK,CAAC,KAAI,CAAC,IAAI,CAAC;YAChB,kBAAkB;YAClB,KAAI,CAAC,IAAI,GAAG,SAAS,CAAC;YAEtB,KAAI,CAAC,MAAM,EAAE,CAAC;QAElB,CAAC,EAAE,UAAC,GAAG;YACH,eAAe;QACnB,CAAC,CAAC,CAAC;IACP,CAAC;IACD;;OAEG;IACH,+BAAM,GAAN;QACI,IAAI,CAAC,YAAY,GAAK,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QACvE,IAAM,OAAO,GAAG,kEAAkE,CAAC;QACnF,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC;YACtB,cAAc,EAAE,kBAAkB;SACrC,CAAC,CAAC;QAEH,OAAO,CAAC,MAAM,CAAC,cAAc,EAAC,IAAI,CAAC,YAAY,CAAE,CAAC;IACtD,CAAC;IAEH,uCAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;IAC/C,CAAC;IAEH,qBAAC;AAAD,CAAC;AApDY,cAAc;IAJ1B,gEAAS,CAAC;QACT,QAAQ,EAAE,kBAAkB;OACG;KAChC,CAAC;+IAKsE;QAC1C,+FAA0B;QACpB,WAAc;AA8CjD;SApDY,cAAc,gB;;;;;;;;;;;;;;;;;;;AClBc;AACO;AACD;AAU/C,IAAa,oBAAoB;IAAjC;IAAmC,CAAC;IAAD,2BAAC;AAAD,CAAC;AAAvB,oBAAoB;IARhC,+DAAQ,CAAC;QACR,YAAY,EAAE;YACZ,oEAAc;SACf;QACD,OAAO,EAAE;YACP,sEAAe,CAAC,QAAQ,CAAC,oEAAc,CAAC;SACzC;KACF,CAAC;GACW,oBAAoB,CAAG;AAAH","file":"16.js","sourcesContent":["import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport {Camera, CameraOptions} from '@ionic-native/camera';\nimport {File} from '@ionic-native/file';\nimport { StorageService } from '../../../providers/util-service/storage-service'\n\n/**\n * Generated class for the HeadUploadPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-head-upload',\n  templateUrl: 'head-upload.html',\n})\nexport class HeadUploadPage {\n    path: string;\n    access_token: string;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n              private camera: Camera, private file: File,\n              public storageService:StorageService) {\n  }\n    openPhoto() {\n        const options: CameraOptions = {\n            quality: 90,                                                   //相片质量 0 -100\n            destinationType: this.camera.DestinationType.DATA_URL,        //DATA_URL 是 base64   FILE_URL 是文件路径\n            encodingType: this.camera.EncodingType.JPEG,\n            mediaType: this.camera.MediaType.PICTURE,\n            saveToPhotoAlbum: true,                                       //是否保存到相册\n            sourceType: this.camera.PictureSourceType.PHOTOLIBRARY ,         //是打开相机拍照还是打开相册选择  PHOTOLIBRARY : 相册选择, CAMERA : 拍照,\n        }\n\n        this.camera.getPicture(options).then((imageData) => {\n            console.log(\"got file: \" + imageData);\n\n            alert(imageData)\n            // If it's base64:\n            // let base64Image = 'data:image/jpeg;base64,' + imageData;\n            // this.path = base64Image;\n            alert(this.path)\n            //If it's file URI\n            this.path = imageData;\n\n            this.upload();\n\n        }, (err) => {\n            // Handle error\n        });\n    }\n    /**\n     * 文件上传\n     */\n    upload() {\n        this.access_token =   JSON.stringify(this.storageService.read('token'))\n        const apiPath = \"http://www.fcloudchain.com:8082/payservice/v1/file/uploadprofile\";\n        let headers = new Headers({\n            'Content-Type': 'application/json'\n        });\n\n        headers.append('X-Auth-Token',this.access_token );\n    }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad HeadUploadPage');\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mine/head-upload/head-upload.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HeadUploadPage } from './head-upload';\n\n@NgModule({\n  declarations: [\n    HeadUploadPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HeadUploadPage),\n  ],\n})\nexport class HeadUploadPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mine/head-upload/head-upload.module.ts"],"sourceRoot":""}