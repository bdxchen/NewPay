{"version":3,"sources":["../../src/pages/mine/alipay/alipay-add/alipay-add.ts","../../src/pages/mine/alipay/alipay-add/alipay-add.module.ts"],"names":[],"mappings":"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","file":"24.js","sourcesContent":["import { Component } from '@angular/core';\nimport {Alert, AlertController, IonicPage, Loading, NavController} from 'ionic-angular';\nimport {AddAlipay} from \"../../../../providers/messages/user-auth-msg\";\nimport {MineService} from \"../../../../providers/user-service/mine-service\";\nimport { TranslateService } from 'ng2-translate';\nimport {CommonUtils} from '../../../../providers/common/commonUtils';\nimport { IentityAuth} from '../../../../providers/identity/ientity-auth'\n@IonicPage()\n@Component({\n    selector: 'alipay-add',\n    templateUrl: 'alipay-add.html'\n})\nexport class AlipayAddPage {\n    alert:Alert;\n    loading:Loading;\n    createSuccess = false;\n    addAlipay: AddAlipay = {account:'',name:''};\n    translateObj: any;\n\n    constructor(public navCtrl: NavController\n\n        ,private mineService : MineService\n        ,private alertCtrl: AlertController,\n                public translate:TranslateService,\n                private commonUtils:CommonUtils,\n                private ientityAuth:IentityAuth) {\n        this.translate.get('alipay_add').subscribe((res: any) => {\n            this.translateObj = res;\n        });\n    }\n    goBack(){\n        this.navCtrl.pop();\n    }\n    ionViewDidLoad() {\n        this.commonUtils.showLoading()\n        this.ientityAuth.userIdentity().then((res)=>{\n            this.commonUtils.HideLoading()\n            console.log(res);\n            if(res.ret_code=='1'){\n              this.addAlipay.name =  res.data.idName\n            }\n\n            }\n        ).catch(err=>{\n            this.commonUtils.HideLoading()\n            this.commonUtils.alertCommon('',err);\n            console.log(err)\n        })\n\n    }\n    confirm(){\n        // this.addAlipay.account\n        // var regEn = /[`~!@#$%^&*()_+<>?:\"{},.\\/;'[\\]]/im,\n        //     regCn = /[·！#￥（——）：；“”‘、，|《。》？、【】[\\]]/im;\n        this.addAlipay.account= this.addAlipay.account.trim();\n        if(this.addAlipay.account.trim()==\"\"){\n            this.commonUtils.alertCommon('',this.translateObj.empty)\n            return false;\n        }\n\n        // if(regEn.test(this.addAlipay.account) || regCn.test(this.addAlipay.account)) {\n        //     this.commonUtils.alertCommon('',this.translateObj.specialValid)\n        //     return false;\n        // }\n\n        this.mineService.addAlipay(this.addAlipay).then(success => {\n                if (success != null) {\n                    this.createSuccess = true;\n                    if(success.ret_code == 1){\n                        this.commonUtils.showToast(this.translateObj.bindSuccess);\n                        this.addAlipay={\n                            name:\"\",\n                            account:\"\"\n                        }\n                        this.navCtrl.push(\"MyAlipayPage\")\n                    }else {\n                        this.showPopup(\"\", success.ret_msg);\n                    }\n                } else {\n                    this.showPopup(\"\", this.translateObj.serviceErr);\n                }\n            },\n            error => {\n                this.showPopup(\"\", this.translateObj.netErr);\n            });\n    }\n\n    reset(){\n        this.addAlipay={\n            name:\"\",\n            account:\"\"\n        }\n    }\n\n    showPopup(title, text) {\n        this.alert = this.alertCtrl.create({\n            title: title,\n            subTitle: text,\n            buttons: [\n                {\n                    text: this.translateObj.confirm,\n                    handler: data => {\n\n                    }\n                }\n            ]\n        });\n        this.alert.present();\n    }\n    XZlx(acc){\n        if(acc){\n            // this.addAlipay.account = acc.replace(/[^\\d]/g,'');\n            if(acc.length>20){\n                this.addAlipay.account  =acc.substring(0,20);\n\n            }\n        }\n\n    }\n    ionViewWillLeave(){\n        if(this.alert){\n            this.alert.dismiss();\n        }\n        if(this.loading){\n            this.loading.dismiss();\n        }\n        // if(this.actionSheet){\n        //     this.actionSheet.dismiss();\n        // }\n        // if(this.modal){\n        //     this.modal.dismiss();\n        // }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mine/alipay/alipay-add/alipay-add.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AlipayAddPage } from './alipay-add';\nimport { TranslateModule} from 'ng2-translate';\n\n@NgModule({\n    declarations: [\n        AlipayAddPage,\n    ],\n    imports: [\n        IonicPageModule.forChild(AlipayAddPage),TranslateModule\n    ],\n})\nexport class AlipayAddPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/mine/alipay/alipay-add/alipay-add.module.ts"],"sourceRoot":""}