{"version":3,"sources":["../../src/pages/reset-z-jpsd/reset-z-jpsd.ts","../../src/pages/reset-z-jpsd/reset-z-jpsd.module.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { Component } from '@angular/core';\nimport {AlertController, IonicPage, LoadingController, NavController, NavParams, Loading, Alert} from 'ionic-angular';\nimport { TranslateService } from 'ng2-translate';\nimport { AuthService } from '../../providers/user-service/user-auth-service';\nimport { CommonUtils } from '../../providers/common/commonUtils'\n/**\n * Generated class for the ResetZJpsdPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-reset-z-jpsd',\n  templateUrl: 'reset-z-jpsd.html',\n})\nexport class ResetZJpsdPage {\n  phoneCode:string='86';\n  countryCode :string=\"CN\";\n  usertel:string=\"\";\n  alert:Alert;\n  idcardno:string;\n    loader:Loading;\n    request:any={captcha:'',newPassword:''};\n    forget:any ={ ziJPwd:''}\n    mCode:any;\n  translateObj: any;\n    // 验证码倒计时\n    verifyCode: any = {\n        verifyCodeTips: \"\",\n        countdown: 60,\n        disable: true\n    }\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n              public alertCtrl:AlertController, public translate:TranslateService,\n              private auth: AuthService,\n              private loading:LoadingController,\n              private commonUtils:CommonUtils) {\n   this.usertel = localStorage.getItem('userid');\n      this.translate.get('forgetPassword').subscribe((res: any) => {\n          this.translateObj = res;\n          console.log(\"forgetPAss\",res)\n          this.verifyCode.verifyCodeTips = this.translateObj.getVeriCode;\n      });\n  }\n  back(){\n   this.navCtrl.pop();\n  }\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ResetZJpsdPage');\n  }\n    // 倒计时\n    settime() {\n      debugger\n        if (this.verifyCode.countdown == 1) {\n            this.verifyCode.countdown = 60;\n            this.verifyCode.verifyCodeTips = this.translateObj.getVeriCode;\n            this.verifyCode.disable = true;\n            return;\n        } else {\n            this.verifyCode.countdown--;\n        }\n\n         this.verifyCode.verifyCodeTips = this.translateObj.getVeriCodeAgain+\"(\" + this.verifyCode.countdown + \")\";\n        setTimeout(() => {\n            this.verifyCode.verifyCodeTips = this.translateObj.getVeriCodeAgain+\"(\" + this.verifyCode.countdown + \")\";\n            this.settime();\n        }, 1000);\n    }\n    getCode() {\n        // console.log(ICode)\n        console.log(\"获取验证码\");\n        if (this.usertel == '') {\n            this.showPopupQ(\"\",this.translateObj.needInputTel);\n            return;\n        }\n        //发送验证码成功后开始倒计时\n        //验证码请求\n        this.commonUtils.showLoading();\n        this.auth.getZiJinPwdValid().then(success => {\n                this.commonUtils.HideLoading();\n                if (success != null) {\n                    if(success.ret_code == '1'){\n                        this.showPopupQ(\"\",this.translateObj.veriCodeSendSuccess);\n                        //发送验证码成功后开始倒计时\n                        this.verifyCode.disable = false;\n                        this.settime();\n                    }else {\n                        this.showPopupQ(\"\",success.ret_msg);\n\n                    }\n                } else {\n                    this.showPopupQ(\"\", this.translateObj.serviceErr);\n                }\n            },\n            error => {\n                this.commonUtils.HideLoading();\n                this.showPopupQ(\"\",this.translateObj.netErr);\n            });\n    }\n    showPopupQ(title,text){\n        let alert = this.alertCtrl.create({\n            title: title,\n            subTitle: text,\n            buttons: [\n                {\n                    text: this.translateObj.confirm,\n                    handler: data => {\n                    }\n                }\n            ]\n        });\n        alert.present();\n    }\n    showPopup(title, text) {\n        let alert = this.alertCtrl.create({\n            title: title,\n            subTitle: text,\n            buttons: [\n                {\n                    text: this.translateObj.confirm,\n                    handler: data => {\n                        // if (this.createSuccess) {\n                            this.navCtrl.pop();\n                        // }\n                    }\n                }\n            ]\n        });\n        alert.present();\n    }\n    resetZJPassword(){\n       let reg = new RegExp(/^\\d{6}$/);\n       // alert(reg.test('123456'));\n      console.log(\"重置资金密码\");\n      console.log(this.forget.ziJPwd );\n      if(this.forget.ziJPwd==\"\"){\n        this.commonUtils.alertCommon('','资金密码为六位数字!');\n        return;\n      }\n      if(!reg.test(this.forget.ziJPwd)){\n          this.commonUtils.alertCommon('','资金密码为六位数字!');\n          return;\n      }\n        if(!reg.test(this.idcardno)){\n            this.commonUtils.alertCommon('','资金验证码为六位数字!');\n            return;\n        }\n      this.request.newPassword =this.forget.ziJPwd;\n        this.request.captcha=this.idcardno;\n        this.commonUtils.showLoading();\n      this.auth.getZiJinPwd(this.request).then(res=>{\n      this.commonUtils.HideLoading();\n      console.log(res)\n       if(res.ret_code==\"1\"){\n           this.alert = this.alertCtrl.create({\n               title:this.translateObj.title,\n               message: this.translateObj.resetTrue,\n               enableBackdropDismiss:false,\n               buttons: [\n                   {\n                       text: this.translateObj.confirm,\n                       handler: data => {\n                           this.navCtrl.pop();\n                       }\n                   }\n               ]\n           });\n           this.alert.present();\n       }else if(res.ret_code==\"0\"){\n           this.commonUtils.alertCommon('',res.ret_msg);\n       }\n      }).catch(err=>{\n         this.commonUtils.HideLoading();\n         this.commonUtils.alertCommon('','网络链接超时,请重试')\n      })\n    }\n    yanzmValid(amount){\n        console.log(amount);\n        this.idcardno = amount;\n        // this.submitOrder.amount = Math.floor(amount * 100) / 100;\n        console.log(amount)\n        if(amount.length>10){\n            this.idcardno = amount.substring(0,10);\n        }\n\n    }\n    ZJMMValid(ziJPwd){\n        this.forget.ziJPwd=ziJPwd.replace(/[^0-9]/ig,\"\");\n        console.log(this.forget.ziJPwd);\n        if(this.forget.ziJPwd.length>6){\n            this.forget.ziJPwd  = this.forget.ziJPwd.substring(0,6);\n        }\n        // document.getElementById(\"ziJPwd\").innerText=this.forget.ziJPwd\n    }\n    ionViewWillLeave(){\n        if(this.alert){\n            this.alert.dismiss();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reset-z-jpsd/reset-z-jpsd.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ResetZJpsdPage } from './reset-z-jpsd';\nimport { TranslateModule} from 'ng2-translate';\n@NgModule({\n  declarations: [\n    ResetZJpsdPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ResetZJpsdPage),TranslateModule\n  ],\n})\nexport class ResetZJpsdPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reset-z-jpsd/reset-z-jpsd.module.ts"],"sourceRoot":""}