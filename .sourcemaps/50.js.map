{"version":3,"sources":["../../src/pages/auth/forget-password/password-reset/password-reset.module.ts","../../src/pages/auth/forget-password/password-reset/password-reset.ts"],"names":[],"mappings":"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","file":"50.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { PasswordResetPage } from './password-reset';\nimport { TranslateModule} from 'ng2-translate';\n@NgModule({\n  declarations: [\n    PasswordResetPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(PasswordResetPage),TranslateModule\n  ],\n})\nexport class PasswordResetPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/auth/forget-password/password-reset/password-reset.module.ts","import {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams} from 'ionic-angular';\nimport {AlertController} from 'ionic-angular';\nimport {AuthService} from '../../../../providers/user-service/user-auth-service'\nimport {CommonUtils} from '../../../../providers/common/commonUtils'\nimport {TranslateService} from 'ng2-translate';\n\n/**\n * Generated class for the PasswordResetPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n    selector: 'page-password-reset',\n    templateUrl: 'password-reset.html',\n})\nexport class PasswordResetPage {\n    countryCode: \"\";\n    phoneCode: \"\";\n    verificationCode: \"\";\n    newloginpwd: string = '';\n    comloginpwd: string = '';\n    pwdCompar: any = {nationCode: '', phoneNo: '', newPassword: '', captcha: ''};\n    translateObj: any;\n\n    constructor(public navCtrl: NavController, public alertCtrl: AlertController, public navParams: NavParams, public authService: AuthService,\n                public translate: TranslateService) {\n        this.countryCode = this.navParams.get('country');\n        this.phoneCode = this.navParams.get('phoneCode');\n        this.verificationCode = this.navParams.get('idcardno');\n        console.log('this.countryCode', this.countryCode)\n        console.log('this.phoneCode', this.phoneCode)\n        console.log('this.verificationCode', this.verificationCode)\n        // this.translate.get('password_reset').subscribe((res: any) => {\n        //   this.translateObj = res;\n        //   console.log(\"password_reset\", res);\n        // });\n        this.translate.get('password_reset').subscribe((res: any) => {\n            this.translateObj = res;\n            console.log(\"password_reset\", res);\n        });\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad PasswordResetPage');\n    }\n\n    goBack() {\n        this.navCtrl.pop();\n    }\n\n    confirm() {\n        if(this.newloginpwd !== this.comloginpwd){\n            this.alertCommon('', this.translateObj.PwNotSame);\n            return;\n        }\n        if (this.newloginpwd == \"\" || this.comloginpwd == \"\") {\n            this.alertCommon('', this.translateObj.newPwEmpty);\n            return;\n        }\n\n        let reg = /^[a-zA-Z]{1}([a-zA-Z0-9]|[_]){7,19}$/;//字母开头8-20位，字母数字或的下划线组合\n        if (!reg.test(this.newloginpwd)) {\n            this.alertCommon(\"\", this.translateObj.psw_Reg);\n            return;\n        }\n        // if(this.comloginpwd==\"\"){\n        //   this.alertCommon('',this.translateObj.confirmPwEmpty);\n        //   return;\n        // }\n        // if(this.comloginpwd != this.newloginpwd){\n        //   this.alertCommon('',this.translateObj.PwNotSame);\n        //   return;\n        // }\n        this.pwdCompar.nationCode = this.countryCode;\n        this.pwdCompar.phoneNo = this.phoneCode;\n        this.pwdCompar.newPassword = this.newloginpwd;\n        this.pwdCompar.captcha = this.verificationCode;\n        console.log(\"this.pwdCompar\", this.pwdCompar)\n        this.authService.resetLoginPwdSer(this.pwdCompar).then(success => {\n            console.log(success)\n            if (success.ret_code == \"1\") {\n                let alert = this.alertCtrl.create({\n                    title: this.translateObj.resetSuccess,\n                    buttons: [{\n                        text: this.translateObj.OK,\n                        handler: () => {\n                            this.navCtrl.push(\"LoginPage\")\n                            //let navTransition = alert.dismiss();\n                            //return false;\n                        }\n                    }]\n                });\n                alert.present();\n            } else {\n                let alert = this.alertCtrl.create({\n                    title: '',\n                    message: success.ret_msg,\n                    buttons: [{\n                        text: this.translateObj.OK,\n                        handler: () => {\n                            // this.navCtrl.parent.select(2);\n                            //let navTransition = alert.dismiss();\n                            //return false;\n                        }\n                    }]\n                });\n                alert.present();\n            }\n        })\n\n\n    }\n\n    alertCommon(title, message) {\n        let alert = this.alertCtrl.create({\n            title: title,\n            message: message,\n            buttons: [{\n                text: this.translateObj.OK,\n                handler: () => {\n                    // this.navCtrl.parent.select(2);\n                }\n            }]\n        });\n        alert.present();\n    }\n\n    resetValid(newloginpwd) {\n        if (newloginpwd.length > 20) {\n            this.newloginpwd = newloginpwd.substring(0, 20);\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/auth/forget-password/password-reset/password-reset.ts"],"sourceRoot":""}