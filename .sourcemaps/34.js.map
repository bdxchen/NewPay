{"version":3,"sources":["../../src/pages/financial/receive/set-money/set-money.ts","../../src/pages/financial/receive/set-money/set-money.module.ts"],"names":[],"mappings":"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","file":"34.js","sourcesContent":["import { Component } from '@angular/core';\nimport {AlertController, IonicPage, NavController, NavParams,Alert,Loading,Modal,ActionSheet,Events} from 'ionic-angular';\nimport { NewpayInstance } from 'newpay-wallet-js';\nimport { TranslateService } from 'ng2-translate';\nimport { CommonUtils} from '../../../../providers/common/commonUtils'\n/**\n * Generated class for the SetMoneyPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-set-money',\n  templateUrl: 'set-money.html',\n})\nexport class SetMoneyPage {\n    paramInfo:any;\n  data:any;\n  currency:string=\"\";// 币种\n    alert:Alert;\n    modal:Modal;\n    actionSheet:ActionSheet;\n    loading:Loading\n    flagMO:string;\n    showBIZ:boolean;\n    symbolT:string;\n  bzMoney:any='';  //收款金额\n  skreason:string=''; //收款理由\n  showReason:boolean=false;\n  translateObj: any;\n    selectOptionsQT:any;\n    ShowReasonflag:string;\n  constructor(public navCtrl: NavController,\n              private events: Events,\n              private commonUtils:CommonUtils,\n              public navParams: NavParams,public alertCtrl:AlertController, public translate:TranslateService) {\n      this.translate.get('set_money').subscribe((res: any) => {\n          this.translateObj = res;\n      });\n  }\n  ReasonsCollection(){\n   this.showReason= !this.showReason;\n  }\n  ionViewDidLoad() {\n      this.selectOptionsQT = {\n          title:  '',\n          mode: 'ios'\n      };\n      console.log(this.currency)\n      this.paramInfo =this.navParams.get('paramInfo');\n      console.log(this.paramInfo);\n      this.flagMO = this.navParams.get('flagMO');\n      if(JSON.stringify(this.navParams.data.paramInfo) != \"{}\"){\n              NewpayInstance.getAccountBalances(localStorage.getItem(\"account\")).then((resQ) => {\n                  this.commonUtils.HideLoading();\n                  console.log(\"res\", resQ);\n                  this.currency =\"aaaa\"\n                  this.data =resQ;\n              }).catch((err) => {\n                  this.commonUtils.HideLoading();\n                  console.log(err);\n              })\n              // this.paramInfo=this.paramInfo;\n              // // {Account:account,currency:'', money:this.navParams.data.money, reason:this.navParams.data.reason}\n              // this.currency = this.paramInfo.currency;\n              // this.skreason=   this.paramInfo.reason;\n              // this.bzMoney = this.paramInfo.money;\n          }\n          console.log(\"BBBBB\",\"BBBBBBB\")\n          this.showBIZ = true;\n      if(this.skreason!=''){\n          this.showReason=true;\n      }\n\n    console.log('ionViewDidLoad SetMoneyPage');\n  }\n  goBack(){\n    this.navCtrl.pop();\n  }\n  setmoneyC(){  //确定按钮\n    console.log(this.currency);\n    if(this.currency==\"\"){\n        this.alertCommon(this.translateObj.warningInfo, this.translateObj.assetEmpty,);\n        return false;\n    }\n    if(this.bzMoney==\"\"){\n        this.alertCommon(this.translateObj.warningInfo, this.translateObj.amountEmpty);\n        return false;\n    }else{\n        if (isNaN(Number(this.bzMoney))) {\n            this.alertCommon(this.translateObj.warningInfo, this.translateObj.inputEmpty);\n            return false;\n        }\n    }\n\n    console.log(this.bzMoney);\n    console.log(this.skreason);\n    let opts ={\n        currency:this.currency,money:this.bzMoney,reason:this.skreason\n    }\n    this.navCtrl.pop().then(() => {\n          console.log(\"set-money\")\n          // Trigger custom event and pass data to be send back\n          this.events.publish('custom-user-events', opts);\n      });\n    // this.navCtrl.pop()\n  }\n  alertCommon(title,message){\n      this.alert = this.alertCtrl.create({\n          title: title,\n          message: message,\n          buttons: [\n              {\n                  text:  this.translateObj.confrim,\n                  handler: () => {\n                      console.log('Buy clicked');\n                  }\n              }\n          ]\n      });\n      this.alert.present();\n  }\n    setmoneyJT(bzMoney){\n\n      if(bzMoney!=\"\"){\n          this.bzMoney = bzMoney.toString();\n          if(this.bzMoney>50000){\n              this.bzMoney = 50000;\n              return;\n          }\n          if(this.bzMoney.split(\".\")[0]==\"\"){\n              this.bzMoney = this.bzMoney.substring(0,0)\n          }\n          // this.submitOrder.amount = Math.floor(amount * 100) / 100;\n          console.log(bzMoney)\n          this.bzMoney = this.bzMoney.replace(/[^\\d.]/g, \"\");  //清除“数字”和“.”以外的字符\n          this.bzMoney = this.bzMoney.replace(/\\.{2,}/g,\"\"); //只保留第一个. 清除多余的\n          if(this.bzMoney.indexOf(\".\")> -1 && this.bzMoney !=\"\") {\n              this.bzMoney=this.bzMoney.replace(\".\",\"$#$\").replace(/\\./g,\"\").replace(\"$#$\",\".\");\n              this.bzMoney= this.bzMoney.replace(/^(\\-)*(\\d+)\\.(\\d\\d).*$/,'$1$2.$3');//只能输入两个小数\n          }\n          if(this.bzMoney.indexOf(\".\")< 0 && this.bzMoney !=\"\"){//以上已经过滤，此处控制的是如果没有小数点，首位不能为类似于 01、02的金额\n              this.bzMoney = parseFloat(this.bzMoney);\n          }\n      }\n\n    }\n    ionViewWillLeave(){\n        if(this.alert){\n            this.alert.dismiss();\n        }\n        if(this.loading){\n            this.loading.dismiss();\n        }\n        if(this.actionSheet){\n            this.actionSheet.dismiss();\n        }\n        if(this.modal){\n            this.modal.dismiss();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/financial/receive/set-money/set-money.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SetMoneyPage } from './set-money';\nimport { TranslateModule} from 'ng2-translate';\n\n@NgModule({\n  declarations: [\n    SetMoneyPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SetMoneyPage),TranslateModule\n  ],\n})\nexport class SetMoneyPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/financial/receive/set-money/set-money.module.ts"],"sourceRoot":""}